<app-page title="{{ 'set_account_info' | i18n }}" *ngIf="fees">
  <div class="account-info pl-20 pr-20 mb-8">
    <div class="account-info__field">
      <small class="secondary-text text-uppercase">{{'account'| i18n}}</small>
      <p class="pb-8">{{account.accountRS}}</p>
    </div>
  </div>

  <div class="p-24">
    <form (ngSubmit)="onSubmit($event);" #setAccountInfoForm="ngForm">
      <mat-form-field>
        <input matInput
               name="name"
               placeholder="{{ 'name' | i18n }}"
               [(ngModel)]="name"
               [disabled]="immutable"
        >
      </mat-form-field>

      <mat-form-field>
        <textarea matInput
                  name="description"
                  placeholder="{{ 'description' | i18n }}"
                  [(ngModel)]="description"
                  [disabled]="immutable"
        >
        </textarea>
      </mat-form-field>

      <ng-container *ngIf="!immutable">

        <app-fee-selector [fees]="fees" [(fee)]="fee"></app-fee-selector>

        <div *ngIf="advanced">
          <mat-form-field>
            <label>{{ 'deadline_hours' | i18n }}</label>
            <input matInput [(ngModel)]="deadline" name="deadline" placeholder="{{ 'deadline_hours' | i18n }}">
          </mat-form-field>
        </div>

        <app-submit-transaction [disabled]="!canSubmit()"
                                [isSubmitting]="isSending"
                                (pinChange)="setPin($event)"></app-submit-transaction>
      </ng-container>
    </form>

    <a *ngIf="!immutable" (click)="advanced=!advanced">
      <em>{{ advanced ? "basic" : "advanced" | i18n }}</em>
    </a>
  </div>
</app-page>
